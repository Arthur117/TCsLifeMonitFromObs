[2025-05-20 18:34:56] [INFO] #============================================================#
[2025-05-20 18:34:56] [INFO] #          EARTHCARE OADS DOWNLOAD SCRIPT (v3.0.0)           #
[2025-05-20 18:34:56] [INFO] #============================================================#
[2025-05-20 18:34:56] [DEBUG] User inputs:
[2025-05-20 18:34:56] [DEBUG]  - product_types: ['CPR_FMR_2A']
[2025-05-20 18:34:56] [DEBUG]  - path_to_data: None
[2025-05-20 18:34:56] [DEBUG]  - timestamps: None
[2025-05-20 18:34:56] [DEBUG]  - frame_ids: None
[2025-05-20 18:34:56] [DEBUG]  - orbit_numbers: None
[2025-05-20 18:34:56] [DEBUG]  - orbit_and_frames: ['04744A']
[2025-05-20 18:34:56] [DEBUG]  - start_time: None
[2025-05-20 18:34:56] [DEBUG]  - end_time: None
[2025-05-20 18:34:56] [DEBUG]  - radius_search: None
[2025-05-20 18:34:56] [DEBUG]  - bounding_box: None
[2025-05-20 18:34:56] [DEBUG]  - is_download: True
[2025-05-20 18:34:56] [DEBUG]  - is_unzip: True
[2025-05-20 18:34:56] [DEBUG]  - is_delete: True
[2025-05-20 18:34:56] [DEBUG]  - is_overwrite: False
[2025-05-20 18:34:56] [DEBUG]  - is_create_subdirs: True
[2025-05-20 18:34:56] [DEBUG]  - product_version: None
[2025-05-20 18:34:56] [DEBUG]  - path_to_config: None
[2025-05-20 18:34:56] [DEBUG]  - download_idx: None
[2025-05-20 18:34:56] [DEBUG]  - start_orbit_number: None
[2025-05-20 18:34:56] [DEBUG]  - end_orbit_number: None
[2025-05-20 18:34:56] [DEBUG]  - start_orbit_and_frame: None
[2025-05-20 18:34:56] [DEBUG]  - end_orbit_and_frame: None
[2025-05-20 18:34:56] [DEBUG]  - is_log: True
[2025-05-20 18:34:56] [DEBUG]  - is_debug: False
[2025-05-20 18:34:56] [DEBUG]  - is_found_files_list_to_txt: False
[2025-05-20 18:34:56] [DEBUG]  - logger: <Logger oads_download (DEBUG)>
[2025-05-20 18:34:56] [INFO] +------------------------------------------------------------+
[2025-05-20 18:34:56] [INFO] | PART 1 - Search products                                   |
[2025-05-20 18:34:56] [INFO] +------------------------------------------------------------+
[2025-05-20 18:34:56] [INFO] Setting path_to_config to </home/arthur/scripts/TCsLifeMonitFromObs/PRJCT_VERTICAL_WIND/config.toml>
[2025-05-20 18:34:56] [INFO] Found config file at </home/arthur/scripts/TCsLifeMonitFromObs/PRJCT_VERTICAL_WIND/config.toml>
[2025-05-20 18:34:56] [INFO] Number of pending search requests: 1
[2025-05-20 18:34:56] [INFO] *[1/1] Search request: CPR_FMR_2A, frame=A, orbits=[4744]
[2025-05-20 18:34:56] [DEBUG]  [1/1] SearchRequest(collection_identifier_list=['EarthCAREL2Products', 'EarthCAREL2InstChecked', 'EarthCAREL2Validated'], product_type='CPR_FMR_2A', product_version=None, radius=None, lat=None, lon=None, bbox=None, start_time=None, end_time=None, orbit_number='[4744]', frame_id='A')
[2025-05-20 18:34:56] [DEBUG] Entrypoint: https://eocat.esa.int/collections
[2025-05-20 18:34:56] [DEBUG] Send GET request: https://eocat.esa.int/collections
[2025-05-20 18:34:57] [DEBUG] Collections queryables: https://eocat.esa.int/eo-catalogue/collections/queryables
[2025-05-20 18:34:57] [DEBUG] Search for EarthCARE collections: https://eocat.esa.int/collections?&title=earthcare&limit=100
[2025-05-20 18:34:57] [DEBUG] Send GET request: https://eocat.esa.int/collections?&title=earthcare&limit=100
[2025-05-20 18:34:58] [DEBUG] Available EarthCARE collections: ['EarthCAREL2Validated', 'EarthCAREXMETL1DProducts10', 'EarthCAREL2Products', 'EarthCAREOrbitData', 'JAXAL2Products', 'JAXAL2InstChecked', 'EarthCAREAuxiliary', 'EarthCAREL1Validated', 'JAXAL2Validated', 'EarthCAREL0L1Products', 'EarthCAREL2InstChecked', 'EarthCAREL1InstChecked']
[2025-05-20 18:34:58] [DEBUG] Constructed search request URL: https://eocat.esa.int/eo-catalogue/collections/EarthCAREL2Products/items?&limit=2000&frame=A&orbitNumber=[4744]&productType=CPR_FMR_2A
[2025-05-20 18:34:58] [DEBUG] Send GET request: https://eocat.esa.int/eo-catalogue/collections/EarthCAREL2Products/items?&limit=2000&frame=A&orbitNumber=%7B4744%7D&productType=CPR_FMR_2A
[2025-05-20 18:34:58] [INFO]  [1/1] Files found in collection 'EarthCAREL2Products': 1
[2025-05-20 18:34:58] [INFO] List of files found (total number 1):
[2025-05-20 18:34:58] [DEBUG]  [1]  ECA_EXAC_CPR_FMR_2A_20250329T200108Z_20250329T223107Z_04744A
[2025-05-20 18:34:58] [INFO] Note: To export this list use the option --export_results
[2025-05-20 18:34:58] [INFO] Note: To select only one specific file use the option -i/--select_file_at_index
[2025-05-20 18:34:58] [INFO] +------------------------------------------------------------+
[2025-05-20 18:34:58] [INFO] | PART 2 - Download products                                 |
[2025-05-20 18:34:58] [INFO] +------------------------------------------------------------+
[2025-05-20 18:34:58] [INFO] Selecting dissemination service: ec-pdgs-dissemination2.eo.esa.int
[2025-05-20 18:35:01] [INFO] *[1/1] Starting: ECA_EXAC_CPR_FMR_2A_20250329T200108Z_20250329T223107Z_04744A
[2025-05-20 18:35:01] [DEBUG]  [1/1] Requesting: https://ec-pdgs-dissemination2.eo.esa.int/oads/data/EarthCAREL2Products/ECA_EXAC_CPR_FMR_2A_20250329T200108Z_20250329T223107Z_04744A.ZIP
[2025-05-20 18:35:04] [ERROR] cannot access local variable 'speed' where it is not associated with a value
Traceback (most recent call last):
  File "/home/arthur/scripts/TCsLifeMonitFromObs/PRJCT_VERTICAL_WIND/oads_download.py", line 1809, in <module>
    main(**args, logger=logger)
  File "/home/arthur/scripts/TCsLifeMonitFromObs/PRJCT_VERTICAL_WIND/oads_download.py", line 1774, in main
    download_counter, unzip_counter, mean_download_speed, total_download_size = download(
                                                                                ^^^^^^^^^
  File "/home/arthur/scripts/TCsLifeMonitFromObs/PRJCT_VERTICAL_WIND/oads_download.py", line 1003, in download
    if logger: logger.info(f" {count_msg} Download completed ({time_taken} - {speed:.2f} MB/s - {size_done:.2f}/{size_total:.2f} MB)                   ")
                                                                              ^^^^^
UnboundLocalError: cannot access local variable 'speed' where it is not associated with a value
